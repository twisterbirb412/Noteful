(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{202:function(e,t,n){},204:function(e,t,n){},206:function(e,t,n){},208:function(e,t,n){},210:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(76),c=n.n(o),l=n(19),i=n(20),s=n(213),u=(n(86),n(88),n(37)),d=n(38),m=n(3),h=n(4),f=n(6),p=n(5),v=n(7),N=n(211),E=n(97),b=n(10),j=n(212),y=n(79),O=n(80);n(92);function g(e){e.tag,e.className,e.childrenm;var t=Object(O.a)(e,["tag","className","childrenm"]);return r.a.createElement(e.tag,Object(y.a)({className:["NavCircleButton",e.className].join(" ")},t),e.children)}g.defaultProps={tag:"a"};var k=r.a.createContext({notes:[],folders:[],addFolder:function(){},addNote:function(){},deleteNote:function(){}}),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find(function(e){return e.id===t})},C=(n(94),function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.context,t=e.folders,n=void 0===t?[]:t,a=e.notes,o=void 0===a?[]:a;return r.a.createElement("div",{className:"NoteListNav"},r.a.createElement("ul",{className:"NoteListNav__list"},n.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(j.a,{className:"NoteListNav__folder-link",to:"/folder/".concat(e.id)},r.a.createElement("span",{className:"NoteListNav__num-notes"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter(function(e){return e.folderId===t}).length}(o,e.id)),e.name))})),r.a.createElement("div",{className:"NoteListNav__button-wrapper"},r.a.createElement(g,{tag:E.a,to:"/add-folder",type:"button",className:"NoteListNav__add-folder-button"},r.a.createElement(b.a,{icon:"plus"}),r.a.createElement("br",null),"Folder")))}}]),t}(r.a.Component));C.contextType=k;n(98);var P=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.context,n=t.notes,a=t.folders,o=this.props.match.params.noteId,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find(function(e){return e.id===t})}(a,(_(n,o)||{}).folderId);return r.a.createElement("div",{className:"NotePageNav"},r.a.createElement(g,{tag:"button",role:"link",onClick:function(){return e.props.history.goBack()},className:"NotePageNav__back-button"},r.a.createElement(b.a,{icon:"chevron-left"}),r.a.createElement("br",null),"Back"),c&&r.a.createElement("h3",{className:"NotePageNav__folder-name"},c.name))}}]),t}(r.a.Component);P.defaultProps={history:{goBack:function(){}},match:{params:{}}},P.contextType=k;var I=n(78),A={API_ENDPOINT:"https://github.com/twisterbirb412/Noteful-Api/blob/master/db.js"},S=(n(202),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClickDelete=function(e){e.preventDefault();var t=n.props.id;fetch("".concat(A.API_ENDPOINT,"/notes/").concat(t),{method:"DELETE",headers:{"content-type":"application/json"}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(){n.context.deleteNote(t),n.props.onDeleteNote(t)}).catch(function(e){console.error({error:e})})},n}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.id,a=e.modified;return r.a.createElement("div",{className:"Note"},r.a.createElement("h2",{className:"Note__title"},r.a.createElement(E.a,{to:"/note/".concat(n)},t)),r.a.createElement("button",{className:"Note__delete",type:"button",onClick:this.handleClickDelete},r.a.createElement(b.a,{icon:"trash-alt"})," ","remove"),r.a.createElement("div",{className:"Note__dates"},r.a.createElement("div",{className:"Note__dates-modified"},"Modified"," ",r.a.createElement("span",{className:"Date"},Object(I.format)(a,"Do MMM YYYY")))))}}]),t}(r.a.Component));S.defaultProps={onDeleteNote:function(){}},S.contextType=k;var D=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(p.a)(t).call(this,e))).state={hasError:!1},n}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.state.hasError?r.a.createElement("h2",null,"Could not display this note."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component),F=(n(204),function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.match.params.folderId,t=this.context.notes,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t?e.filter(function(e){return e.folderId===t}):e}(void 0===t?[]:t,e);return r.a.createElement("section",{className:"NoteListMain"},r.a.createElement("ul",null,n.map(function(e){return r.a.createElement(D,null,r.a.createElement("li",{key:e.id},r.a.createElement(S,{id:e.id,name:e.name,modified:e.modified})))})),r.a.createElement("div",{className:"NoteListMain__button-container"},r.a.createElement(g,{tag:E.a,to:"/add-note",type:"button",className:"NoteListMain__add-note-button"},r.a.createElement(b.a,{icon:"plus"}),r.a.createElement("br",null),"Note")))}}]),t}(r.a.Component));F.defaultProps={match:{params:{}}},F.contextType=k;n(206);var x=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleDeleteNote=function(e){n.props.history.push("/")},n}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.context.notes,t=void 0===e?[]:e,n=this.props.match.params.noteId,a=_(t,n)||{content:""};return r.a.createElement("section",{className:"NotePageMain"},r.a.createElement(S,{id:a.id,name:a.name,modified:a.modified,onDeleteNote:this.handleDeleteNote}),r.a.createElement("div",{className:"NotePageMain__content"},a.content.split(/\n \r|\n/).map(function(e,t){return r.a.createElement("p",{key:t},e)})))}}]),t}(r.a.Component);x.defaultProps={match:{params:{}}},x.contextType=k;var w=function(){return r.a.createElement("span",{className:"AddBookmark__required"},"*")},T=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(p.a)(t).call(this,e))).state={error:null},n.handleClickCancel=function(){n.props.history.push("/")},n.nameInput=r.a.createRef(),n}return Object(v.a)(t,e),Object(h.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=this.nameInput.current.value;console.log({fName:n});var a={name:e.target.folderName.value};console.log(a),this.setState({error:null}),fetch("".concat(A.API_ENDPOINT,"/folders"),{method:"POST",body:JSON.stringify(a),headers:{"content-type":"application/json"}}).then(function(e){return e.ok?e.json():e.json().then(function(e){throw e})}).then(function(e){n="",console.log(e),t.context.addFolder(e),t.props.history.push("/")}).catch(function(e){t.setState({error:e})})}},{key:"render",value:function(){var e=this,t=this.state.error;return r.a.createElement("section",{className:"AddFolder"},r.a.createElement("h2",null,"Create a new folder."),r.a.createElement("form",{className:"AddFolder_form",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"AddFolder__error",role:"alert"},t&&r.a.createElement("p",null,t.message)),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"folderName"},"Name:"),r.a.createElement("input",{type:"text",name:"folderName",id:"folderName",placeholder:"New Folder",ref:this.nameInput,required:!0}),r.a.createElement(w,null)),r.a.createElement("div",{className:"AddFolder_buttons"},r.a.createElement("button",{type:"button",onClick:this.handleClickCancel},"Cancel")," ",r.a.createElement("button",{type:"submit"},"Save"))))}}]),t}(r.a.Component);function M(e){return e.message?r.a.createElement("div",{className:"error"},e.message):r.a.createElement(r.a.Fragment,null)}T.contextType=k;var L=function(){return r.a.createElement("span",{className:"AddBookmark__required"},"*")},B=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,name:{touched:!1,value:""}},n.handleClickCancel=function(){n.props.history.push("/")},n}return Object(v.a)(t,e),Object(h.a)(t,[{key:"updateName",value:function(e){this.setState({name:{value:e,touched:!0}})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n={name:e.target.noteName.value,modified:new Date,folderId:e.target.noteFolderId.value,content:e.target.noteContent.value};console.log(n),this.setState({error:null}),fetch("".concat(A.API_ENDPOINT,"/notes"),{method:"POST",body:JSON.stringify(n),headers:{"content-type":"application/json"}}).then(function(e){return e.ok?e.json():e.json().then(function(e){throw e})}).then(function(e){t.context.addNote(e),t.props.history.push("/")}).catch(function(e){t.setState({error:e})})}},{key:"validateNoteName",value:function(){var e=this.state.name.value.trim();return 0===e.length?"Name is required":e.length<3?"Name must be at least 3 characters long":void 0}},{key:"render",value:function(){var e=this,t=this.state.error,n=this.context.folders,a=this.validateNoteName();return r.a.createElement("section",{className:"AddNote"},r.a.createElement("h2",null,"Create a new note."),r.a.createElement("form",{className:"AddNote_form",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"AddNote__error",role:"alert"},t&&r.a.createElement("p",null,t.message)),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"noteName"},"Name:"),r.a.createElement("input",{type:"text",name:"noteName",id:"noteName",placeholder:"New Note",onChange:function(t){return e.updateName(t.target.value)},required:!0}),r.a.createElement(L,null),this.state.name.touched&&r.a.createElement(M,{message:a})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"noteContent"},"Name:"),r.a.createElement("input",{type:"text",name:"noteContent",id:"noteContent",placeholder:"Type content here...",ref:this.nameInput,required:!0}),r.a.createElement(L,null)),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"folderSelection"},"Select a folder:"),r.a.createElement("select",{id:"noteFolderSelect",name:"noteFolderId"},r.a.createElement("option",{value:null},"..."),n.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("div",{className:"AddNote_buttons"},r.a.createElement("button",{type:"button",onClick:this.handleClickCancel},"Cancel")," ",r.a.createElement("button",{type:"submit",disabled:this.validateNoteName()},"Save"))))}}]),t}(r.a.Component);B.contextType=k,B.defaultProps={history:{push:function(){}}};var q=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(p.a)(t).call(this,e))).state={hasError:!1},n}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.state.hasError?r.a.createElement("h2",null,"Could not display this folder."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component),R=(n(208),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={notes:[],folders:[]},n.handleAddFolder=function(e){n.setState({folders:Object(d.a)(n.state.folders).concat([e])})},n.handleAddNote=function(e){n.setState({notes:Object(d.a)(n.state.notes).concat([e])})},n.handleDeleteNote=function(e){n.setState({notes:n.state.notes.filter(function(t){return t.id!==e})})},n}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch("".concat(A.API_ENDPOINT,"/notes")),fetch("".concat(A.API_ENDPOINT,"/folders"))]).then(function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return n.ok?a.ok?Promise.all([n.json(),a.json()]):a.json().then(function(e){return Promise.reject(e)}):n.json().then(function(e){return Promise.reject(e)})}).then(function(t){var n=Object(u.a)(t,2),a=n[0],r=n[1];e.setState({notes:a,folders:r})}).catch(function(e){console.error({error:e})})}},{key:"renderNavRoutes",value:function(){return r.a.createElement(r.a.Fragment,null,["/","/folder/:folderId"].map(function(e){return r.a.createElement(q,null,r.a.createElement(N.a,{exact:!0,key:e,path:e,component:C}))}),r.a.createElement(N.a,{path:"/note/:noteId",component:P}),r.a.createElement(N.a,{path:"/add-folder",component:T}),r.a.createElement(N.a,{path:"/add-note",component:B}))}},{key:"renderMainRoutes",value:function(){return r.a.createElement(r.a.Fragment,null,["/","/folder/:folderId"].map(function(e){return r.a.createElement(q,null,r.a.createElement(N.a,{exact:!0,key:e,path:e,component:F}))}),r.a.createElement(N.a,{path:"/note/:noteId",component:x}))}},{key:"render",value:function(){var e={notes:this.state.notes,folders:this.state.folders,deleteNote:this.handleDeleteNote,addFolder:this.handleAddFolder,addNote:this.handleAddNote};return r.a.createElement(k.Provider,{value:e},r.a.createElement("div",{className:"App"},r.a.createElement("nav",{className:"App__nav"},this.renderNavRoutes()),r.a.createElement("header",{className:"App__header"},r.a.createElement("h1",null,r.a.createElement(E.a,{to:"/"},"Noteful")," ",r.a.createElement(b.a,{icon:"check-double"}))),r.a.createElement("main",{className:"App__main"},this.renderMainRoutes())))}}]),t}(a.Component));l.b.add(i.c,i.b,i.d,i.a),c.a.render(r.a.createElement(s.a,null,r.a.createElement(R,null)),document.getElementById("root"))},81:function(e,t,n){e.exports=n(210)},88:function(e,t,n){},92:function(e,t,n){},94:function(e,t,n){},98:function(e,t,n){}},[[81,2,1]]]);
//# sourceMappingURL=main.582cabdd.chunk.js.map